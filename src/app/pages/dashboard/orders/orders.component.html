<div class="p-4 sm:p-6 md:p-8 bg-slate-50 hflexy scroll-purple flex flex-col">

  <app-page-header
    title="Gestión de Órdenes"
    buttonText="Crear Nueva Orden"
    (buttonClick)="isCreateModalVisible = true"
  ></app-page-header>

  <app-order-filter
    [filters]="filters"
    [resumen]="resumen"
    (filtersChange)="handleFilterChange($event)"
    (clearFilters)="handleClearFilters()"
  ></app-order-filter>

  <div class="flex-1 overflow-y-auto space-y-4 pr-2">
    <app-order-card
      *ngFor="let order of filteredOrders"
      [order]="order"
      (markAsPaid)="handleMarkAsPaid($event)"
      (edit)="handleEditOrder(order)"
      (view)="handleViewOrder(order)"
      (delete)="handleDeleteOrder(order)"
    ></app-order-card>
  </div>

  <app-create-order-modal
    *ngIf="isCreateModalVisible"
    (close)="isCreateModalVisible = false"
    (createOrder)="handleCreateOrder($event)"
  ></app-create-order-modal>

  <app-edit-order-modal
    *ngIf="orderToEdit"
    [order]="orderToEdit"
    (save)="handleSaveChanges($event)"
    (close)="orderToEdit = null"
  ></app-edit-order-modal>

  <app-view-order-modal
    *ngIf="orderToView"
    [order]="orderToView"
    (close)="orderToView = null"
  ></app-view-order-modal>
</div>
