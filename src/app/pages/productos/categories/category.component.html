<div class="w-80 h-[100dvh] bg-white shadow-xl rounded-lg overflow-hidden font-sans">
  <!-- Logo -->
  <div class="flex p-4 items-center border-b">
    <img src="logo.png" alt="Advance Technology Projects" class="h-10" />
  </div>

  <div class="relative w-full h-[calc(100vh-70px)]">
    <!-- Categories View -->
    <div class="absolute w-full h-full p-4 overflow-y-auto transition-transform duration-300 ease-in-out"
         [ngClass]="{
           '-translate-x-full opacity-0': selectedCategory(),
           'translate-x-0 opacity-100': !selectedCategory()
         }">
      <h2 class="text-xl font-bold text-purple-700 mb-4">Categorias</h2>
      <ul class="space-y-3">
        <li *ngFor="let category of categories"
            class="flex items-center justify-between p-3 bg-gray-50 hover:bg-purple-100 rounded-lg cursor-pointer transition-colors"
            (click)="selectCategory(category)">
          <span class="flex items-center font-medium text-gray-800">
            <fa-icon [icon]="faCopyright" class="mr-3 text-purple-600"></fa-icon>
            {{ category.category }}
          </span>
          <fa-icon [icon]="faChevronRight" class="text-gray-400"></fa-icon>
        </li>
      </ul>
    </div>

    <!-- Subcategories View -->
    <div *ngIf="selectedCategory()"
         class="absolute w-full h-full p-4 overflow-y-auto transition-transform duration-300 ease-in-out"
         [ngClass]="{
           'translate-x-0 opacity-100': selectedCategory(),
           'translate-x-full opacity-0': !selectedCategory()
         }">
      <button (click)="goBack()"
              class="mb-4 flex items-center text-purple-600 hover:text-purple-800 font-semibold">
        <fa-icon [icon]="faArrowLeft" class="mr-2"></fa-icon>
        Volver
      </button>

      <!-- El título de la categoría ahora es clickeable para navegar -->
      <h2 (click)="navigateToCategory(selectedCategory()!.category)"
          class="text-xl font-bold text-purple-700 mb-4 cursor-pointer hover:underline">
          {{ selectedCategory()?.category }}
      </h2>

      <ul class="space-y-2">
        <li *ngIf="!selectedCategory()?.subCategories?.length"
            class="p-2 text-gray-500">
          No hay subcategorías disponibles.
        </li>

        <!-- Cada subcategoría ahora es clickeable para navegar -->
        <li *ngFor="let sub of selectedCategory()?.subCategories"
            (click)="navigateToCategory(sub)"
            class="p-3 bg-gray-50 hover:bg-purple-100 rounded-lg cursor-pointer transition-colors text-gray-700">
          {{ sub }}
        </li>
      </ul>
    </div>
  </div>
</div>
