<section class="min-h-[80vh] bg-white mt-30 xl:mt-10">

  <!-- t+item de carrito -->
  <div *ngIf="cartItemCount > 0 && islogged"
    class="fixed flex justify-center bottom-2 rounded-tl-xl rounded-bl-xl right-0 md:left-auto bg-purple-500 text-white animate__animated animate__fadeInRight shadow-lg w-18 h-15 z-10">
    <a routerLink="/dashboard/cart" class="relative flex items-center justify-center w-full h-full">
      <span
        class="p-2 absolute top-2 right-2 bg-purple-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center">
        {{ cartItemCount }}
      </span>
      <fa-icon [icon]="faShoppingCart" class="text-xl md:text-2xl "></fa-icon>
    </a>
  </div>

  <lib-toastify-toast-container></lib-toastify-toast-container>

  <div *ngIf="createUser" class="bg-black/60 backdrop-blur-sm fixed top-0 z-50 w-full h-full overflow-hidden"
    (click)="onOutregister()">
    <app-create-user></app-create-user>
  </div>

  <app-slider-product></app-slider-product>


  <div *ngIf="productosFavorites.length > 0" class="relative px-8 py-2 bg-purple-50 rounded-2xl m-2 scroll-purple">
    <h1 class="text-center  text-transparent bg-clip-text bg-gradient-to-r from-purple-700 to-orange-800 font-bold font-oswald text-4xl my-4">
      Productos Destacados
    </h1>
    <button (click)="scrollFavorites('left')"
      class="absolute left-2 top-1/2 -translate-y-1/2 z-10 bg-purple-100 rounded-full p-2 shadow-md hover:bg-gray-100">
      <fa-icon [icon]="faChevronLeft"></fa-icon>
    </button>

    <cdk-virtual-scroll-viewport #favoritesContainer class="w-full h-[550px] my-4 gap-4" orientation="horizontal"
      itemSize="250">
      <div class="flex items-center gap-4">
        <app-product-advance *cdkVirtualFor="let item of productosFavorites; trackBy: trackByIndex"
          (agregarAlCarrito)="onComprarProductos(item)" [producto]="item">
        </app-product-advance>
      </div>
    </cdk-virtual-scroll-viewport>

    <button (click)="scrollFavorites('right')"
      class="absolute right-2 top-1/2 -translate-y-1/2 z-10 bg-purple-100 rounded-full p-2 shadow-md hover:bg-gray-100">
      <fa-icon [icon]="faChevronRight"></fa-icon>
    </button>
  </div>

  <app-brand-slider></app-brand-slider>

  <div class="bg-gray-50 my-4 py-4">
    <h1 class="text-center text-gray-900 text-4xl font-extrabold mt-2 my-4 z-99">
      Productos Comprados recientemente
    </h1>

    <section class="flex justify-center my-2 gap-2 p-4 m-4 rounded-md">
      <app-product-vertical (agregarAlCarrito)="onComprarProductos($event)"
        [producto]="productosFavorites[2]"></app-product-vertical>
    </section>
    <section class="flex justify-center my-4 gap-2 p-4 m-4 rounded-md">
      <app-product-vertical (agregarAlCarrito)="onComprarProductos($event)" [producto]="productosFavorites[5]"
        [imagenIzquierda]="false"></app-product-vertical>
    </section>
    <section class="flex justify-center my-4 gap-4 p-4 m-4 rounded-md">
      <app-product-vertical (agregarAlCarrito)="onComprarProductos($event)"
        [producto]="productosFavorites[4]"></app-product-vertical>
    </section>
    <section class="flex justify-center my-4 gap-4 p-4 m-4 rounded-md">
      <app-product-vertical (agregarAlCarrito)="onComprarProductos($event)" [producto]="productosFavorites[3]"
        [imagenIzquierda]="false"></app-product-vertical>
    </section>
  </div>

  <h1 class="text-center text-gray-900 text-4xl font-extrabold my-4">
    Distribuidores autorizados de las mejores marcas
  </h1>

  <app-certificate-slider></app-certificate-slider>
  <app-brand-slider></app-brand-slider>

  <app-team-form-lite></app-team-form-lite>

  <h1 class="text-center sticky top-2 text-gray-900 text-4xl font-extrabold my-4">
    Todos los productos
  </h1>
  <!-- productos -->
  <app-grid-products-store (aÃ±adirAlCarrito)="onComprarProductos($event)"></app-grid-products-store>


  <div *ngIf="comprarProductos" class="bg-black/50 fixed top-0 z-50 w-full h-full flex overflow-hidden">
    <app-info-login *ngIf="comprarProductos" (close)="onComprarProductos(null)" (loginAction)="handleLogin()"
      (createAction)="handleCreate()">
    </app-info-login>
  </div>

  <app-footer></app-footer>
</section>
